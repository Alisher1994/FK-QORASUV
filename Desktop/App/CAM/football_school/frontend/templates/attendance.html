<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <h2>‚öΩ {{ system_name }}</h2>
            <button class="sidebar-toggle" aria-label="–°–≤–µ—Ä–Ω—É—Ç—å –º–µ–Ω—é">‚ò∞</button>
        </div>
        <nav>
            <a href="{{ url_for('dashboard') }}" data-tooltip="–ì–ª–∞–≤–Ω–∞—è">üìä <span>–ì–ª–∞–≤–Ω–∞—è</span></a>
            <a href="{{ url_for('students') }}" data-tooltip="–£—á–µ–Ω–∏–∫–∏">üë• <span>–£—á–µ–Ω–∏–∫–∏</span></a>
            <a href="{{ url_for('groups_page') }}" data-tooltip="–ì—Ä—É–ø–ø—ã">üë®‚Äçüë©‚Äçüë¶ <span>–ì—Ä—É–ø–ø—ã</span></a>
            <a href="{{ url_for('tariffs_page') }}" data-tooltip="–¢–∞—Ä–∏—Ñ—ã">üí≥ <span>–¢–∞—Ä–∏—Ñ—ã</span></a>
            <a href="{{ url_for('finances_page') }}" data-tooltip="–§–∏–Ω–∞–Ω—Å—ã">üí∞ <span>–§–∏–Ω–∞–Ω—Å—ã</span></a>
            <a href="{{ url_for('attendance_page') }}" class="active" data-tooltip="–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å">üìã <span>–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å</span></a>
            <a href="{{ url_for('camera_page') }}" data-tooltip="–ö–∞–º–µ—Ä–∞">üì∑ <span>–ö–∞–º–µ—Ä–∞</span></a>
            <a href="{{ url_for('rewards_page') }}" data-tooltip="–í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è">üèÜ <span>–í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è</span></a>
            <a href="{{ url_for('rating_page') }}" data-tooltip="–†–µ–π—Ç–∏–Ω–≥ —É—á–µ–Ω–∏–∫–æ–≤">‚≠ê <span>–†–µ–π—Ç–∏–Ω–≥ —É—á–µ–Ω–∏–∫–æ–≤</span></a>
            <a href="{{ url_for('club_settings_page') }}" data-tooltip="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span></a>
            <a href="{{ url_for('logout') }}" data-tooltip="–í—ã—Ö–æ–¥">üö™ <span>–í—ã—Ö–æ–¥</span></a>
        </nav>
    </div>

    <div class="main-content">
        <div class="page-header">
            <h1>üìã –ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å</h1>
            <button id="attendanceFilterToggleBtn" class="btn-secondary" style="display: flex; align-items: center; gap: 8px;">
                <span>üîç</span>
                <span id="attendanceFilterToggleText">–§–∏–ª—å—Ç—Ä</span>
            </button>
        </div>
        
        <!-- –§–∏–ª—å—Ç—Ä—ã –¥–ª—è –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ -->
        <div id="attendanceFilterPanel" class="filter-panel" style="display: none;">
            <div class="filter-panel-content">
                <div class="filter-row">
                    <div class="filter-group">
                        <label>üìÖ –ì–æ–¥</label>
                        <select id="filterYear" class="form-input-modern">
                            <option value="">–í—Å–µ –≥–æ–¥—ã</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>üìÜ –ú–µ—Å—è—Ü</label>
                        <select id="filterMonth" class="form-input-modern">
                            <option value="">–í—Å–µ –º–µ—Å—è—Ü—ã</option>
                            <option value="1">–Ø–Ω–≤–∞—Ä—å</option>
                            <option value="2">–§–µ–≤—Ä–∞–ª—å</option>
                            <option value="3">–ú–∞—Ä—Ç</option>
                            <option value="4">–ê–ø—Ä–µ–ª—å</option>
                            <option value="5">–ú–∞–π</option>
                            <option value="6">–ò—é–Ω—å</option>
                            <option value="7">–ò—é–ª—å</option>
                            <option value="8">–ê–≤–≥—É—Å—Ç</option>
                            <option value="9">–°–µ–Ω—Ç—è–±—Ä—å</option>
                            <option value="10">–û–∫—Ç—è–±—Ä—å</option>
                            <option value="11">–ù–æ—è–±—Ä—å</option>
                            <option value="12">–î–µ–∫–∞–±—Ä—å</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>üë• –ì—Ä—É–ø–ø–∞</label>
                        <select id="filterGroup" class="form-input-modern">
                            <option value="">–í—Å–µ –≥—Ä—É–ø–ø—ã</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>üßë –£—á–µ–Ω–∏–∫</label>
                        <div style="position: relative;">
                            <input type="text" id="filterStudentSearch" placeholder="–ü–æ–∏—Å–∫ —É—á–µ–Ω–∏–∫–∞..." class="form-input-modern">
                            <div id="studentDropdown" style="display: none; position: absolute; top: 100%; left: 0; right: 0; background: white; border: 2px solid #e2e8f0; border-top: none; border-radius: 0 0 12px 12px; max-height: 200px; overflow-y: auto; z-index: 1000; box-shadow: 0 8px 24px rgba(0,0,0,0.15);">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="filter-actions">
                    <button type="button" onclick="resetFilters()" class="btn-secondary">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
                    <button type="button" onclick="applyFilters()" class="btn-primary">‚úì –ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <table class="data-table">
            <thead>
                <tr>
                    <th>–î–∞—Ç–∞</th>
                    <th>–í—Ä–µ–º—è –ø—Ä–∏—Ö–æ–¥–∞</th>
                    <th>–£—á–µ–Ω–∏–∫</th>
                    <th>–ì—Ä—É–ø–ø–∞</th>
                    <th>–û—Å—Ç–∞—Ç–æ–∫ –∑–∞–Ω—è—Ç–∏–π</th>
                </tr>
            </thead>
            <tbody id="attendanceTableBody">
                <tr><td colspan="3" class="info-text">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
            </tbody>
        </table>
    </div>

    <script src="{{ url_for('static', filename='js/attendance.js') }}"></script>
    <script src="{{ url_for('static', filename='js/sidebar.js') }}"></script>
</body>
</html>
